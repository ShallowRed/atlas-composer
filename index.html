<!DOCTYPE html>
<html lang="fr" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cartographies de la France avec DOM-TOM</title>
  </head>
  <body>
    <div id="app" class="min-h-screen bg-base-200">
      <!-- Header -->
      <header class="hero bg-base-300">
        <div class="hero-content text-center py-12">
          <div class="max-w-md">
            <h1 class="text-4xl font-bold">Cartographies de la France</h1>
            <p class="py-4 text-lg opacity-90">
              Représentation de la métropole et des outre-mer avec préservation des rapports de taille
            </p>
          </div>
        </div>
      </header>
      
      <main class="container mx-auto py-8 flex flex-col md:flex-row gap-6">
        <!-- Controls Card -->
        <div class="card card-border border-base-300 bg-base-100 shadow-lg md:w-1/4 h-min">
          <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
              <i class="ri-settings-3-line text-xl"></i>
              Configuration
            </h2>
            
            <div class="flex flex-col gap-6">
              <!-- Theme Selector -->
              <div class="form-control">
                <label class="label mb-1">
                  <span class="label-text flex items-center gap-2">
                    <i class="ri-palette-line"></i>
                    Thème
                  </span>
                </label>
                <select id="theme-select" class="select cursor-pointer">
                  <option value="light">Light</option>
                  <option value="dark">Dark</option>
                  <option value="cupcake">Cupcake</option>
                  <option value="bumblebee">Bumblebee</option>
                  <option value="emerald">Emerald</option>
                  <option value="corporate">Corporate</option>
                  <option value="synthwave">Synthwave</option>
                  <option value="retro">Retro</option>
                  <option value="cyberpunk">Cyberpunk</option>
                  <option value="valentine">Valentine</option>
                  <option value="halloween">Halloween</option>
                  <option value="garden">Garden</option>
                  <option value="forest">Forest</option>
                  <option value="aqua">Aqua</option>
                  <option value="lofi">Lofi</option>
                  <option value="pastel">Pastel</option>
                  <option value="fantasy">Fantasy</option>
                  <option value="wireframe">Wireframe</option>
                  <option value="black">Black</option>
                  <option value="luxury">Luxury</option>
                  <option value="dracula">Dracula</option>
                  <option value="cmyk">CMYK</option>
                  <option value="autumn">Autumn</option>
                  <option value="business">Business</option>
                  <option value="acid">Acid</option>
                  <option value="lemonade">Lemonade</option>
                  <option value="night">Night</option>
                  <option value="coffee">Coffee</option>
                  <option value="winter">Winter</option>
                  <option value="dim">Dim</option>
                  <option value="nord">Nord</option>
                  <option value="sunset">Sunset</option>
                </select>
              </div>
              <!-- Projection Select -->
              <div class="form-control">
                <label class="label mb-1">
                  Projection cartographique
                </label>
                <select id="projection-select" class="select cursor-pointer">
                  <!-- Options dynamically populated by JavaScript -->
                </select>
              </div>
              
              <!-- Scale Preservation -->
              <div class="form-control separate-only">
                <label class="label cursor-pointer flex flex-row-reverse justify-end gap-2">
                  <span>
                    Préserver les rapports de taille
                  </span>
                  <input type="checkbox" id="scale-preservation" class="toggle toggle-primary" checked />
                </label>
              </div>

              <!-- Territory Selection (Both Composite Views) -->
              <div class="form-control composite-only composite-raw-only">
                <label class="label mb-1">
                  Territoires à inclure
                </label>
                <select id="unified-view-mode" class="select cursor-pointer">
                  <option value="metropole-only">Métropole seule</option>
                  <option value="metropole-major" selected>+ Principaux DOM-TOM</option>
                  <option value="metropole-uncommon">+ Moins courants</option>
                  <option value="all-territories">+ Rarement représentés</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Tab Navigation using DaisyUI -->
        <div class="tabs tabs-lift tabs-xl w-full md:w-3/4">
          <input type="radio" name="map_tabs" class="tab" aria-label="Vue Composite" id="tab-composite" checked />
          <div class="tab-content shadow-lg bg-base-100 border-base-300 p-8">
            <h2 class="card-title mb-2">
              <i class="ri-map-2-line text-lg"></i>
              Vue d'ensemble avec repositionnement
            </h2>
            <div id="unified-plot" class="map-plot"></div>
          </div>

          <input type="radio" name="map_tabs" class="tab" aria-label="Projection Composite" id="tab-composite-raw" />
          <div class="tab-content shadow-lg bg-base-100 border-base-300 p-8">
            <h2 class="card-title mb-2">
              <i class="ri-global-line text-lg"></i>
              Projection composite (coordonnées originales)
            </h2>
            <p class="text-sm opacity-70 mb-4">
              Utilise la projection composite geoAlbersFrance avec les coordonnées originales. Reproduit l'effet de "Vue Composite" mais avec repositionnement géré par la projection.
            </p>
            <div id="composite-raw-plot" class="map-plot"></div>
          </div>

          <input type="radio" name="map_tabs" class="tab" aria-label="Territoires Séparés" id="tab-separate" />
          <div class="tab-content shadow-lg bg-base-100 border-base-300 p-8">
            <!-- Separate Territory Views Content -->
            <div class="flex flex-row gap-12">
              <!-- Metropolitan France -->
              <div class="">
                <h2 class="card-title mb-2">
                  <i class="ri-map-pin-line text-lg"></i>
                  France Métropolitaine
                </h2>
                <div id="france-metropole">
                  <div class="map-plot"></div>
                </div>
              </div>
              
              <!-- DOM-TOM -->
              <div class="">
                <h2 class="card-title mb-2">
                  <i class="ri-earth-line text-lg"></i>
                  Départements et Collectivités d'Outre-Mer
                </h2>
                <div id="dom-tom">
                  <div class="map-plot"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
