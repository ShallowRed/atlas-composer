# DropdownControl Component - Implementation Plan

## Objective
Replace SelectControl with a new DropdownControl component using daisyUI's dropdown (CSS focus method) to enable icons in options:
- Flags for atlas options
- Remix icons for view mode options  
- Recommendation badges ("+++") for projection options

## Affected Domains
- [ ] UI Components (src/components/ui/forms/)
- [ ] Configuration Section (src/components/configuration/)
- [ ] Theme Selector (src/components/ui/settings/)

## Context
- Architecture: docs/architecture.llm.txt
- Vue architecture: docs/vue-architecture.llm.txt
- daisyUI instructions: .github/instructions/daisyui.instructions.md

## Changes

### Phase 1: Create DropdownControl Component
- [x] File: src/components/ui/forms/DropdownControl.vue
  - Action: Create new component with CSS focus dropdown
  - Props: label, icon, modelValue, disabled, options, optionGroups, renderIcon (optional slot/function)
  - Features: Support simple options, option groups, custom icon rendering per option
  - Why: Replace native select with daisyUI dropdown to enable rich option content

### Phase 2: Update Component Usage
- [x] File: src/components/configuration/AtlasConfigSection.vue
  - Action: Replace SelectControl imports and usage with DropdownControl
  - Add: Icon rendering for atlas options (flags), view mode options (remix icons)
  - Why: Enable visual indicators for configuration options

- [x] File: src/components/ui/settings/ThemeSelector.vue
  - Action: Replace SelectControl with DropdownControl
  - Why: Maintain consistency across the application

### Phase 3: Optional - Icon Utilities
- [x] File: src/utils/atlas-icons.ts
  - Action: Create utility for mapping atlas IDs to flag emojis/icons
  - Why: Centralize icon mapping logic

- [x] File: src/utils/view-mode-icons.ts
  - Action: Create utility for mapping view modes to remix icons
  - Why: Centralize icon mapping logic

### Phase 4: ProjectionSelector Enhancement (Optional)
- [ ] File: src/components/ui/projections/ProjectionSelector.vue
  - Action: Consider if dropdown with badges would improve UX
  - Why: Show recommendation badges inline with projection names

## Documentation Updates

- [x] docs/vue-architecture.llm.txt - Updated component list with DropdownControl details
- [x] docs/architecture.llm.txt - No changes needed (UI detail)

## Verification
- [x] Code compiles without errors
- [x] All SelectControl usages replaced
- [x] Icons display correctly in dropdown options (flags for atlas, remix icons for view modes)
- [x] Dropdown behaves correctly (open/close on focus)
- [x] TypeScript types are correct
- [x] All .llm.txt documentation updated
- [x] Dev server running successfully on localhost:5174

## Status
Status: COMPLETE
Created: 2025-10-11
Completed: 2025-10-11

## Implementation Summary
- ‚úÖ Created DropdownControl component (193 lines) using daisyUI CSS focus method
- ‚úÖ Supports icons and badges in options for visual indicators
- ‚úÖ Created atlas-icons.ts utility for flag emoji mapping
- ‚úÖ Created view-mode-icons.ts utility for remix icon mapping
- ‚úÖ Replaced all SelectControl usages in AtlasConfigSection (5 instances)
- ‚úÖ Updated ThemeSelector to use DropdownControl
- ‚úÖ Atlas options display flag emojis (üá´üá∑, üáµüáπ, üá™üá∏, üá™üá∫, üá∫üá∏, üåç)
- ‚úÖ View mode options display remix icons (ri-layout-grid-line, etc.)
- ‚úÖ Updated vue-architecture.llm.txt documentation

## Notes
- SelectControl remains in codebase but is no longer used
- Can be removed in future cleanup if no other dependencies exist
- Badge support ready for projection recommendations (e.g., "+++" for highly recommended)
- Dropdown uses tabindex and role="button" for accessibility per daisyUI best practices
